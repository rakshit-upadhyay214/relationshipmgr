<?xml version="1.0" encoding="UTF-8"?>
<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-3.xsd"
        require-authentication="anonymous-all">

<!--    creating person simultaneously with party-->
    <transition name="createPerson">
        <actions>
            <set field="partyTypeEnumId" value="PERSON"/>
            <service-call name="create#Party" in-map="context" out-map="context"/>
            <service-call name="create#Person" in-map="context" out-map="context"/>
        </actions>
        <default-response url="."/>
    </transition>

<!--    Finding Party by party id-->
    <transition name="findParty">
        <actions>
            <service-call name="find#Party" in-map="context" out-map="context"/>
        </actions>
        <default-response url="."/>
    </transition>


    <widgets>

<!--        Create Person as a Party-->
        <container-dialog id="person" button-text="createPerson">
            <form-single name="Person" transition="createPerson">
                <auto-fields-entity entity-name="custom.udm.Person" field-type="edit"/>
                <field name="submitButton"><default-field title="Create"><submit/></default-field></field>
            </form-single>
        </container-dialog>


<!--        Find Party-->
        <container-dialog id="party" button-text="FindParty">
            <form-single name="FindParty" transition="findParty">
                <aut
            </form-single>
        </container-dialog>
    </widgets>
</screen>